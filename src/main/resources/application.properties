# OpenAPI/Swagger configuration
quarkus.swagger-ui.always-include=true
quarkus.smallrye-openapi.path=/q/openapi
quarkus.smallrye-openapi.info-title=Quarkus Demo - Hexagonal Architecture
quarkus.smallrye-openapi.info-description=API demonstration of hexagonal architecture benefits with Quarkus
quarkus.smallrye-openapi.info-version=1.0.0

# H2 Database configuration in file mode (functional database)
quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.driver=com.p6spy.engine.spy.P6SpyDriver
quarkus.datasource.jdbc.url=jdbc:p6spy:h2:file:./data/quarkus-demo;DB_CLOSE_DELAY=-1
quarkus.datasource.username=sa
quarkus.datasource.password=
quarkus.hibernate-orm.schema-management.strategy=drop-and-create
# if needed, you can use the following line to import initial data from import.sql file
# quarkus.hibernate-orm.sql-load-script=import.sql
quarkus.hibernate-orm.dialect=org.hibernate.dialect.H2Dialect
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.log.format-sql=false

# Disable devservices to use our H2 configuration
quarkus.datasource.devservices.enabled=false

# Logging configuration
# Console format: simple readable text (not JSON)
quarkus.log.console.format=%d{HH:mm:ss.SSS} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.console.level=INFO
quarkus.log.console.json=false

# File format: for analysis
quarkus.log.handler.file."quarkus-demo-file".enable=true
quarkus.log.handler.file."quarkus-demo-file".path=logs/quarkus-demo.log
quarkus.log.handler.file."quarkus-demo-file".format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n
quarkus.log.handler.file."quarkus-demo-file".level=INFO
quarkus.log.handler.file."quarkus-demo-file".rotation.max-file-size=10M
quarkus.log.handler.file."quarkus-demo-file".rotation.max-backup-index=5

# Separate HTTP access logs
quarkus.http.access-log.enabled=true
quarkus.http.access-log.log-to-file=true
quarkus.http.access-log.base-file-name=access
quarkus.http.access-log.log-directory=logs

# Specific log levels
quarkus.log.category."io.lostyzen.demo".level=DEBUG
quarkus.log.category."io.quarkus".level=INFO
quarkus.log.category."org.hibernate".level=INFO
quarkus.log.category."org.hibernate.orm.jdbc.bind".level=TRACE
quarkus.log.category."org.hibernate.type.descriptor.sql.BasicBinder".level=TRACE
quarkus.log.min-level=TRACE

# Development configuration
%dev.quarkus.log.console.level=DEBUG
%dev.quarkus.log.category."io.lostyzen.demo".level=DEBUG

# Production configuration
%prod.quarkus.log.console.level=INFO
%prod.quarkus.log.handler.file."quarkus-demo-file".level=WARN

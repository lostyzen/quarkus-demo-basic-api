# Packaging configuration
quarkus.package.type=fast-jar

# OpenAPI/Swagger configuration
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.enable=true
quarkus.smallrye-openapi.path=/q/openapi
quarkus.smallrye-openapi.enable=true
quarkus.smallrye-openapi.info-title=Quarkus Demo - Architecture Hexagonale
quarkus.smallrye-openapi.info-description=API de démonstration des bienfaits de l'architecture hexagonale avec Quarkus
quarkus.smallrye-openapi.info-version=1.0.0

# Configuration de la base de données H2 en mode fichier simple (base fonctionnelle)
quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:file:./data/quarkus-demo;DB_CLOSE_DELAY=-1
quarkus.datasource.username=sa
quarkus.datasource.password=
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=false

# Désactivation des devservices pour utiliser notre configuration H2
quarkus.datasource.devservices.enabled=false

# Configuration des logs
# DÉSACTIVER explicitement le format JSON pour la console
quarkus.log.console.json=false

# Format console : texte lisible simple
quarkus.log.console.enable=true
quarkus.log.console.format=%d{HH:mm:ss.SSS} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.console.level=INFO

# Format fichier : JSON pour l'analyse
quarkus.log.file.enable=true
quarkus.log.file.path=logs/quarkus-demo.log
quarkus.log.file.json=true
quarkus.log.file.level=INFO
quarkus.log.file.rotation.max-file-size=10M
quarkus.log.file.rotation.max-backup-index=5

# Logs d'accès HTTP séparés
quarkus.http.access-log.enabled=true
quarkus.http.access-log.log-to-file=true
quarkus.http.access-log.base-file-name=access
quarkus.http.access-log.log-directory=logs

# Niveaux de logs spécifiques
quarkus.log.category."org.acme.demo".level=DEBUG
quarkus.log.category."io.quarkus".level=INFO
quarkus.log.category."org.hibernate".level=WARN

# Configuration pour le développement
%dev.quarkus.log.console.level=DEBUG
%dev.quarkus.log.category."org.acme.demo".level=DEBUG
%dev.quarkus.log.console.json=false

# Configuration pour la production
%prod.quarkus.log.console.level=INFO
%prod.quarkus.log.file.level=WARN
